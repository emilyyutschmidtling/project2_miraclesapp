<body class="posts">

<h1 class="posts">Posts</h1>

<div class="container">
  <% @posts.each do |post| %>
    <div class="jumbotron post">
    <h2><%= post.user.nickname %>, <%= time_ago_in_words(post.created_at) %></h2>

    <p><%= post.content %></p>

    <button> <%= link_to "Delete this post", post_path(post.id), method: :delete, data: {confirm: "Are you sure you want to delete this post?"} %> </button>

    <%= button_tag "Add comment", class: "addComment" %>

    <div id="addCommentForm" class="well">
      <%= render "comments/form", :post => post %>
    </div>

<button data-toggle="collapse" data-target="#demo" class="addComment">See/Hide Comments</button>
<div class="collapse">
      <% post.comments.each do |comment| %>
    <div class="panel comment">
      <h6><%= comment.user.nickname %>, <%= time_ago_in_words(comment.created_at) %></h6>
      <p><%= comment.content %></p>
    </div>
    <% end %>
  </div>
  </div>
  <% end %>
</div>

</body>




<!-- <h1>List of Posts</h1>

<table>
  <thead>
    <tr>
      <th>Post ID</th>
      <th>User ID</th>
      <th>Screen Name</th>
      <th>Date</th>
      <th colspan="5"></th>
    </tr>
  </thead>

  <tbody>
    <% @posts.each do |post|  %>
      <tr>

        <td><%= post.id %></td>

        <td><%= post.user_id %></td>

        <td><%= post.user.nickname %></td>

        <td><%= post.updated_at %></td>

        <td> <%= link_to "View this post", post_path(post.id) %> </td>

        <td> <%#= link_to "Edit this post", edit_post_path(post.id) %> </td>

        <td><%= link_to "Add new comment", new_post_comment_path(post.id) %></td>

        <td> <%= link_to "Delete this post", post_path(post.id), method: :delete, data: {confirm: "Are you sure you want to delete this post?"} %> </td>

      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to "Add new post", new_post_path %>

<br> -->
